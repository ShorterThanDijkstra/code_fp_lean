<!DOCTYPE html>
<html>
  <head>
    <script>
      (function(){
  const {protocol:proto, host:hostName, pathname:path, search:srch, hash:hsh} = window.location;
  if (!(path.endsWith("/") || path.endsWith(".html"))) {
    window.location.replace(`${proto}//${hostName}${path}/${srch}${hsh}`);
  }
})()</script>
    <base href="./../../"><meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>Proving Equivalence</title><link rel="stylesheet" href="book.css">
    <script>
      const __versoSiteRoot = document.baseURI;</script>
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js" integrity="sha384-zbcZAIxlvJtNE3Dp5nxLXdXtXyxwOdnILY1TDPVmKFhl4r4nSUG1r8bcFXGVa4Te" crossorigin="anonymous"></script>
    <script src="-verso-data/katex/katex.js"></script>
    <script src="-verso-data/katex/math.js"></script>
    <script src="-verso-data/popper.js"></script>
    <script src="-verso-data/tippy.js"></script>
    <link rel="stylesheet" href="static/theme.css">
    <link rel="stylesheet" href="static/fonts/source-serif/source-serif-text.css">
    <link rel="stylesheet" href="static/fonts/source-code-pro/source-code-pro.css">
    <link rel="stylesheet" href="static/fonts/source-sans/source-sans-3.css">
    <link rel="stylesheet" href="static/fonts/noto-sans-mono/noto-sans-mono.css">
    <link rel="stylesheet" href="-verso-data/katex/katex.css">
    <link rel="stylesheet" href="-verso-data/tippy-border.css">
    <style>
div.paragraph > .eval-steps:not(:first-child), div.paragraph > .eval-steps:not(:first-child) > * {
  margin-top: 0.5rem;
}

div.paragraph > .eval-steps:not(:last-child), div.paragraph > .eval-steps:not(:last-child) > * {
  margin-bottom: 0.5rem;
}

.eval-steps .hl.lean.block {
  margin-top: 0.25em;
  margin-bottom: 0.25em;
}
</style><style>
.shell-command {

}
.shell-command.inline > * {
  display: inline;
  white-space: pre;
}
.shell-command.inline .command::before {
  content: "$ ";
  font-weight: 600;
}
</style><style>
.shell-command {

}
.shell-command.block > * {
  display: block;
  white-space: pre;
}
.shell-command .command .prompt {
  font-weight: 600;
}

div.paragraph > .shell-command:not(:first-child) {
  margin-top: 0.5rem;
}

div.paragraph > .shell-command:not(:last-child) {
  margin-bottom: 0.5rem;
}
</style><style>

.hl.lean {
  white-space: pre;
  font-weight: normal;
  font-style: normal;
}

.hl.lean .keyword {
  font-weight : bold;
}

.hl.lean .var {
  font-style: italic;
  position: relative;
}

.hover-container {
  width: 0;
  height: 0;
  position: relative;
  display: inline;
}

.hl.lean a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}

.hl.lean a:hover {
  text-decoration: currentcolor underline solid;
}

.hl.lean .hover-info {
  white-space: normal;
}

.hl.lean .token .hover-info {
  display: none;
  position: absolute;
  background-color: #e5e5e5;
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 300;
  font-size: inherit;
}

.hl.lean .hover-info.messages {
  max-height: 10rem;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  padding: 0 0.5rem 0 0;
  display: block;
}

.hl.lean .hover-info code {
  white-space: pre-wrap;
}

.hl.lean .hover-info.messages > code {
  padding: 0.5rem;
  display: block;
  width: fit-content;
}

.hl.lean .hover-info.messages > code:only-child {
  margin: 0;
}

.hl.lean .hover-info.messages > code {
  margin: 0.1rem;
}

.hl.lean .hover-info.messages > code:not(:first-child) {
  margin-top: 0rem;
}

/*
@media (hover: hover) {
  .hl.lean .has-info:hover > .hover-container > .hover-info:not(.tactic *),
  .hl.lean .tactic:has(> .tactic-toggle:checked) .has-info:hover > .hover-container > .hover-info,
  .hl.lean .token:hover > .hover-container > .hover-info:not(.has-info *):not(.tactic *),
  .hl.lean .tactic:has(> .tactic-toggle:checked) .token:hover > .hover-container > .hover-info:not(.has-info *) {
    display: inline-block;
    position: absolute;
    top: 1rem;
    font-weight: normal;
    font-style: normal;
    width: min-content;
  }
}
*/

.hl.lean.block {
  display: block;
}

.hl.lean.inline {
  display: inline;
  white-space: pre-wrap;
}

.hl.lean .token {
  transition: all 0.25s; /* Slight fade for highlights */
}

@media (hover: hover) {
  .hl.lean .token.binding-hl, .hl.lean .literal.string:hover, .hl.lean .token.typed:hover {
    background-color: #eee;
    border-radius: 2px;
    transition: none;
  }
}


.hl.lean .has-info .token:not(.tactic-state):not(.tactic-state *), .hl.lean .has-info .inter-text:not(.tactic-state):not(.tactic-state *) {
  text-decoration-style: wavy;
  text-decoration-line: underline;
  text-decoration-thickness: from-font;
}

.hl.lean .has-info .hover-info {
  display: none;
  position: absolute;
  transform: translate(0.25rem, 0.3rem);
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 400;
  text-align: left;
}

.hl.lean .has-info.error :not(.tactic-state):not(.tactic-state *){
  text-decoration-color: red;
}

@media (hover: hover) {
  .hl.lean .has-info.error:hover {
    background-color: #ffb3b3;
  }
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #ffb3b3;
}

.tippy-box[data-theme~='error'] .hl.lean .hover-info.messages > code.error {
  background: none;
  border: none;
}

.error pre {
    color: red;
}

.hl.lean .has-info.warning :not(.tactic-state):not(.tactic-state *) {
  text-decoration-color: var(--verso-warning-color);
}

@media (hover: hover) {
  .hl.lean .has-info.warning:hover {
    background-color:var(--verso-warning-color);
  }
}

.hl.lean .hover-info.messages > code.warning {
  background-color: var(--verso-warning-color);
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid var(--verso-warning-color);
}

.tippy-box[data-theme~='warning'] .hl.lean .hover-info.messages > code.warning {
  background: none;
  border: none;
}


.hl.lean .has-info.info :not(.tactic-state):not(.tactic-state *) {
  text-decoration-color: blue;
}

@media (hover: hover) {
  .hl.lean .has-info.info:hover {
    background-color: #4777ff;
  }
}


.hl.lean .hover-info.messages > code.info {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #4777ff;
}

.tippy-box[data-theme~='info'] .hl.lean .hover-info.messages > code.info {
  background: none;
  border: none;
}

.hl.lean div.docstring {
  font-family: sans-serif;
  white-space: normal;
  max-width: 40rem;
  width: max-content;
}

.hl.lean div.docstring > :last-child {
  margin-bottom: 0;
}

.hl.lean div.docstring > :first-child {
  margin-top: 0;
}

.hl.lean .hover-info .sep {
  display: block;
  width: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 0;
  height: 1px;
  border-top: 1px solid #ccc;
}

.hl.lean code {
  font-family: monospace;
}

.hl.lean .tactic-state {
  display: none;
  position: relative;
  left: 2rem;
  width: fit-content;
  border: 1px solid #888888;
  border-radius: 0.1rem;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
  z-index: 200;
}

.hl.lean.popup .tactic-state {
  position: static;
  display: block;
  width: auto;
  border: none;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}


.hl.lean .tactic {
  position: relative;
}

.hl.lean .tactic-toggle:checked ~ .tactic-state {
  display: block;
}

/*
@media (hover: hover) {
  .hl.lean .tactic:hover > .tactic-toggle:not(:checked) ~ .tactic-state {
    display: block;
    position: absolute;
    left: 0;
    transform: translate(0.25rem, 0);
    z-index: 250;
  }
}
*/

.hl.lean .tactic > label {
  position: relative;
  transition: all 0.5s;
}

@media (hover: hover) {
  .hl.lean .tactic > label:hover {
    border-bottom: 1px dotted #bbbbbb;
  }
}

.hl.lean .tactic-toggle {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .tactic > label::after {
  content: "";
  border: 1px solid #bbbbbb;
  border-radius: 1rem;
  height: 0.25rem;
  vertical-align: middle;
  width: 0.6rem;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  display: inline-block;
  transition: all 0.5s;
}

/*
@media (hover: hover) {
  .hl.lean .tactic > label:hover::after {
    border: 1px solid #aaaaaa;
    background-color: #aaaaaa;
    transition: all 0.5s;
  }
}
*/

.hl.lean .tactic > label:has(+ .tactic-toggle:checked)::after {
  border: 1px solid #999999;
  background-color: #999999;
  transition: all 0.5s;
}

.hl.lean .tactic-state .goal + .goal {
  margin-top: 1.5rem;
}

.hl.lean .tactic-state summary {
  margin-left: -0.5rem;
}

.hl.lean .tactic-state details {
  padding-left: 0.5rem;
}

.hl.lean .case-label {
  display: block;
  position: relative;
}

.hl.lean .case-label input[type="checkbox"] {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .case-label:has(input[type="checkbox"])::before {
  width: 1rem;
  height: 1rem;
  display: inline-block;
  background-color: black;
  content: ' ';
  transition: ease 0.2s;
  margin-right: 0.7rem;
  clip-path: polygon(100% 0, 0 0, 50% 100%);
  width: 0.6rem;
  height: 0.6rem;
}

.hl.lean .case-label:has(input[type="checkbox"]:not(:checked))::before {
  transform: rotate(-90deg);
}

.hl.lean .case-label:has(input[type="checkbox"]) {

}

.hl.lean .case-label:has(input[type="checkbox"]:checked) {

}


.hl.lean .tactic-state .labeled-case > :not(:first-child) {
  max-height: 0px;
  display: block;
  overflow: hidden;
  transition: max-height 0.1s ease-in;
  margin-left: 0.5rem;
  margin-top: 0.1rem;
}

.hl.lean .labeled-case:has(.case-label input[type="checkbox"]:checked) > :not(:first-child) {
  max-height: 100%;
}


.hl.lean .tactic-state .goal-name::before {
  font-style: normal;
  content: "case ";
}

.hl.lean .tactic-state .goal-name {
  font-style: italic;
  font-family: monospace;
}

.hl.lean .tactic-state .hypotheses {
  display: table;
}

.hl.lean .tactic-state .hypothesis {
  display: table-row;
}

.hl.lean .tactic-state .hypothesis > * {
  display: table-cell;
}


.hl.lean .tactic-state .hypotheses .colon {
  text-align: center;
  min-width: 1rem;
}

.hl.lean .tactic-state .hypotheses .name {
  text-align: right;
}

.hl.lean .tactic-state .hypotheses .name,
.hl.lean .tactic-state .hypotheses .type,
.hl.lean .tactic-state .conclusion .type {
  font-family: monospace;
}

.tippy-box[data-theme~='lean'] {
  background-color: #e5e5e5;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='lean'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
}

.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::after {
  bottom: -11px;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::before {
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::after {
  top: -11px;
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
  border-width: 11px 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::after {
  right: -11px;
  border-width: 11px 0 11px 11px;
}

.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
  border-width: 11px 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::after {
  left: -11px;
  border-width: 11px 11px 11px 0;
}



.tippy-box[data-theme~='warning'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid var(--verso-warning-color);
}

.tippy-box[data-theme~='error'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #f7a7af;
}

.tippy-box[data-theme~='info'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #99b3c2;
}

.tippy-box[data-theme~='tactic'] {
  background-color: white;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='tactic'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: white;
}

</style><style>
.example-file {
  white-space: normal;
  font-family: var(--verso-structure-font-family);
  margin: 1rem;
  width: fit-content;
  border: 1px solid #ddd;
  padding: 0.5rem;

  /* These are necessary for the container to behave nicely on mobile */
  overflow-x: auto;
  max-width: 100%;
  box-sizing: border-box;
}
.example-file::before {
  counter-reset: linenumber;
}
.example-file > .line {
  display: block;
  white-space: pre;
  counter-increment: linenumber;
  font-family: var(--verso-code-font-family);
}
.example-file > .line::before {
  -webkit-user-select: none;
  display: inline-block;
  content: counter(linenumber);
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}
.example-file > .line::after {
  -webkit-user-select: none;
  display: inline-block;
  content: "⏎";
  opacity: 0;
}
.example-file > .line:hover::after {
  opacity: 1;
}
.example-file > .line:hover, .example-file > .line:hover::before {
  background-color: #eee;
}
.example-file > .empty {
  display: block;
  white-space: pre;
  font-family: var(--verso-code-font-family);
  font-style: italic;
}
.example-file > .empty::before {
  -webkit-user-select: none;
  display: inline-block;
  content: "";
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}
</style><style>
table.tabular {
  margin: auto;
  border-spacing: 1rem;
}
table.tabular.left-align {
  margin-right: auto;
  margin-left: 0;
}
table.tabular.center-align {
  margin: auto;
}
table.tabular.right-align {
  margin-left auto;
  margin-right: 0;
}
table.tabular td, table.tabular th {
  text-align: left;
  vertical-align: top;
}
table.tabular td > p:first-child, table.tabular th > p:first-child {
  margin-top: 0;
}
table.tabular td > p:last-child, table.tabular th > p:first-child {
  margin-bottom: 0;
}
</style><style>
.shell-commands {

}
.shell-commands > * {
  display: block;
  white-space: pre;
}
.shell-commands .command::before {
  content: "$ ";
  font-weight: 600;
}

div.paragraph > .shell-commands:not(:first-child) {
  margin-top: 0.5rem;
}

div.paragraph > .shell-commands:not(:last-child) {
  margin-bottom: 0.5rem;
}
</style><style>
.eq-steps .hl.lean.block {
  background-color: #f6f7f6;
  padding: 1rem;
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}
.eq-steps .reason {
  font-style: italic;
  margin-left: 2.5em;
  display: flex;
}
.eq-steps .reason::before {
  content: "={";
  font-family: var(--verso-code-font-family);
  font-style: normal;
  font-weight: 600;
  margin-right: 0.5em;
  align-self: center;
}
.eq-steps .reason > p {
  margin: 0;
  max-width: 25em;
  align-self: center;
}
.eq-steps .reason::after {
  content: "}=";
  font-family: var(--verso-code-font-family);
  font-style: normal;
  font-weight: 600;
  margin-left: 1em;
  align-self: center;
}
</style><style>
div.paragraph > .eq-steps:not(:first-child) {
  margin-top: 0.5rem;
}

div.paragraph > .eq-steps:not(:last-child) {
  margin-bottom: 0.5rem;
}
</style><script>
      
window.onload = () => {

    // Don't show hovers inside of closed tactic states
    function blockedByTactic(elem) {
      let parent = elem.parentNode;
      while (parent && "classList" in parent) {
        if (parent.classList.contains("tactic")) {
          const toggle = parent.querySelector("input.tactic-toggle");
          if (toggle) {
            return !toggle.checked;
          }
        }
        parent = parent.parentNode;
      }
      return false;
    }

    function blockedByTippy(elem) {
      // Don't show a new hover until the old ones are all closed.
      // Scoped to the nearest "top-level block" to avoid being O(n) in the size of the document.
      var block = elem;
      const topLevel = new Set(["section", "body", "html", "nav", "header"]);
      while (block.parentNode && !topLevel.has(block.parentNode.nodeName.toLowerCase())) {
        block = block.parentNode;
      }
      for (const child of block.querySelectorAll(".token, .has-info")) {
        if (child._tippy && child._tippy.state.isVisible) { return true };
      }
      return false;
    }

    for (const c of document.querySelectorAll(".hl.lean .token")) {
        if (c.dataset.binding != "") {
            c.addEventListener("mouseover", (event) => {
                if (blockedByTactic(c)) {return;}
                const context = c.closest(".hl.lean").dataset.leanContext;
                for (const example of document.querySelectorAll(".hl.lean")) {
                    if (example.dataset.leanContext == context) {
                        for (const tok of example.querySelectorAll(".token")) {
                            if (c.dataset.binding == tok.dataset.binding) {
                                tok.classList.add("binding-hl");
                            }
                        }
                    }
                }
            });
        }
        c.addEventListener("mouseout", (event) => {
            for (const tok of document.querySelectorAll(".hl.lean .token")) {
                tok.classList.remove("binding-hl");
            }
        });
    }
    /* Render docstrings */
    if ('undefined' !== typeof marked) {
        for (const d of document.querySelectorAll("code.docstring, pre.docstring")) {
            const str = d.innerText;
            const html = marked.parse(str);
            const rendered = document.createElement("div");
            rendered.classList.add("docstring");
            rendered.innerHTML = html;
            d.parentNode.replaceChild(rendered, d);
        }
    }
    // Add hovers
    let siteRoot = typeof __versoSiteRoot !== 'undefined' ? __versoSiteRoot : "/";
    let docsJson = siteRoot + "-verso-docs.json";
    fetch(docsJson).then((resp) => resp.json()).then((versoDocData) => {

      function hideParentTooltips(element) {
        let parent = element.parentElement;
        while (parent) {
          const tippyInstance = parent._tippy;
          if (tippyInstance) {
            tippyInstance.hide();
          }
          parent = parent.parentElement;
        }
      }



      const defaultTippyProps = {
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        /* theme: "lean", */
        maxWidth: "none",
        appendTo: () => document.body,
        interactive: true,
        delay: [100, null],
        /* ignoreAttributes: true, */
        followCursor: 'initial',
        onShow(inst) {
          if (inst.reference.className == 'tactic') {

            const toggle = inst.reference.querySelector("input.tactic-toggle");
            if (toggle && toggle.checked) {
              return false;
            }
            hideParentTooltips(inst.reference);
            //if (blockedByTippy(inst.reference)) { return false; }

          } else if (inst.reference.querySelector(".hover-info") || "versoHover" in inst.reference.dataset) {
            if (blockedByTactic(inst.reference)) { return false };
            if (blockedByTippy(inst.reference)) { return false; }
          } else { // Nothing to show here!
            return false;
          }
        },
        content (tgt) {
          const content = document.createElement("span");
          if (tgt.className == 'tactic') {
            const state = tgt.querySelector(".tactic-state").cloneNode(true);
            state.style.display = "block";
            content.appendChild(state);
            content.style.display = "block";
            content.className = "hl lean popup";
          } else {
            content.className = "hl lean";
            content.style.display = "block";
            content.style.maxHeight = "300px";
            content.style.overflowY = "auto";
            content.style.overflowX = "hidden";
            const hoverId = tgt.dataset.versoHover;
            const hoverInfo = tgt.querySelector(".hover-info");
            if (hoverId) { // Docstrings from the table
              // TODO stop doing an implicit conversion from string to number here
              let data = versoDocData[hoverId];
              if (data) {
                const info = document.createElement("span");
                info.className = "hover-info";
                info.style.display = "block";
                info.innerHTML = data;
                content.appendChild(info);
                /* Render docstrings - TODO server-side */
                if ('undefined' !== typeof marked) {
                    for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
                        const str = d.innerText;
                        const html = marked.parse(str);
                        const rendered = document.createElement("div");
                        rendered.classList.add("docstring");
                        rendered.innerHTML = html;
                        d.parentNode.replaceChild(rendered, d);
                    }
                }
              } else {
                content.innerHTML = "Failed to load doc ID: " + hoverId;
              }
            } else if (hoverInfo) { // The inline info, still used for compiler messages
              content.appendChild(hoverInfo.cloneNode(true));
            }
          }
          return content;
        }
      };



      const addTippy = (selector, props) => {
        tippy(selector, Object.assign({}, defaultTippyProps, props));
      };
      document.querySelectorAll('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token').forEach(element => {
        element.setAttribute('data-tippy-theme', 'lean');
      });
      document.querySelectorAll('.hl.lean .has-info.warning').forEach(element => {
        element.setAttribute('data-tippy-theme', 'warning message');
      });
      document.querySelectorAll('.hl.lean .has-info.info').forEach(element => {
        element.setAttribute('data-tippy-theme', 'info message');
      });
      document.querySelectorAll('.hl.lean .has-info.error').forEach(element => {
        element.setAttribute('data-tippy-theme', 'error message');
      });
      document.querySelectorAll('.hl.lean .tactic').forEach(element => {
        element.setAttribute('data-tippy-theme', 'tactic');
      });
      let insts = tippy('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token, .hl.lean .has-info, .hl.lean .tactic', defaultTippyProps);



      /*
      tippy('.hl.lean .tactic', {
        allowHtml: true,

        onHide(any) { return false; },
        trigger: "click",

        maxWidth: "none",
        onShow(inst) {
          const toggle = inst.reference.querySelector("input.tactic-toggle");
          if (toggle && toggle.checked) {
            return false;
          }
          if (blockedByTippy(inst.reference)) { return false; }
        },
        content (tgt) {
          const content = document.createElement("span");
          const state = tgt.querySelector(".tactic-state").cloneNode(true);
          state.style.display = "block";
          content.appendChild(state);
          content.style.display = "block";
          content.className = "hl lean popup";
          return content;
        }
      });
      */
  });
}
</script>
    </head>
  <body>
    <header>
      <div class="header-logo-wrapper">
        <a href="" id="logo"><img src="static/lean_logo.svg"></a></div>
      <div class="header-title-wrapper">
        <a href="" class="header-title"><h1>
            Functional Programming in Lean</h1>
          </a></div>
      </header>
    <label for="toggle-toc" id="toggle-toc-click"><span class="line line1"></span><span class="line line2"></span><span class="line line3"></span></label><div class="with-toc">
      <div class="toc-backdrop" onclick="document.getElementById('toggle-toc-click')?.click()"></div>
      <nav id="toc">
        <input type="checkbox" id="toggle-toc"><div class="first">
          <a href="" class="toc-title"><h1>
              Functional Programming in Lean</h1>
            </a><div class="split-tocs">
            <div class="split-toc book">
              <div class="title">
                <label for="--verso-manual-toc-----bookRoot" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-----bookRoot"></label><span class="">Table of Contents</span></div>
              <table><tr class="unnumbered"><td class="num"><td><a href="Introduction/#Functional-Programming-in-Lean--Introduction">Introduction</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="Acknowledgments/#Functional-Programming-in-Lean--Acknowledgments">Acknowledgments</a></td></tr><tr class="numbered"><td class="num">1.</td><td><a href="Getting-to-Know-Lean/#getting-to-know">Getting to Know Lean</a></td></tr><tr class="numbered"><td class="num">2.</td><td><a href="Hello___-World___/#hello-world">Hello, World!</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="Interlude___-Propositions___-Proofs___-and-Indexing/#props-proofs-indexing">Interlude: Propositions, Proofs, and Indexing</a></td></tr><tr class="numbered"><td class="num">3.</td><td><a href="Overloading-and-Type-Classes/#Functional-Programming-in-Lean--Overloading-and-Type-Classes">Overloading and Type Classes</a></td></tr><tr class="numbered"><td class="num">4.</td><td><a href="Monads/#Functional-Programming-in-Lean--Monads">Monads</a></td></tr><tr class="numbered"><td class="num">5.</td><td><a href="Functors___-Applicative-Functors___-and-Monads/#Functional-Programming-in-Lean--Functors___-Applicative-Functors___-and-Monads">Functors, Applicative Functors, and Monads</a></td></tr><tr class="numbered"><td class="num">6.</td><td><a href="Monad-Transformers/#Functional-Programming-in-Lean--Monad-Transformers">Monad Transformers</a></td></tr><tr class="numbered"><td class="num">7.</td><td><a href="Programming-with-Dependent-Types/#Functional-Programming-in-Lean--Programming-with-Dependent-Types">Programming with Dependent Types</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="Interlude___-Tactics___-Induction___-and-Proofs/#Functional-Programming-in-Lean--Interlude___-Tactics___-Induction___-and-Proofs">Interlude: Tactics, Induction, and Proofs</a></td></tr><tr class="current numbered"><td class="num">8.</td><td><a href="Programming___-Proving___-and-Performance/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance">Programming, Proving, and Performance</a></td></tr><tr class="numbered"><td class="num">9.</td><td><a href="Next-Steps/#next-steps">Next Steps</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-Functional-Programming-in-Lean--Programming___-Proving___-and-Performance" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-Functional-Programming-in-Lean--Programming___-Proving___-and-Performance" checked="checked"></label><span class="number">8.</span> <span class=""><a href="Programming___-Proving___-and-Performance/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance">Programming, Proving, and Performance</a></span></div>
              <table><tr class="numbered"><td class="num">8.1.</td><td><a href="Programming___-Proving___-and-Performance/Tail-Recursion/#tail-recursion">Tail Recursion</a></td></tr><tr class="current numbered"><td class="num">8.2.</td><td><a href="Programming___-Proving___-and-Performance/Proving-Equivalence/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence">Proving Equivalence</a></td></tr><tr class="numbered"><td class="num">8.3.</td><td><a href="Programming___-Proving___-and-Performance/Arrays-and-Termination/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Arrays-and-Termination">Arrays and Termination</a></td></tr><tr class="numbered"><td class="num">8.4.</td><td><a href="Programming___-Proving___-and-Performance/More-Inequalities/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--More-Inequalities">More Inequalities</a></td></tr><tr class="numbered"><td class="num">8.5.</td><td><a href="Programming___-Proving___-and-Performance/Bounded-Numbers/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Bounded-Numbers">Bounded Numbers</a></td></tr><tr class="numbered"><td class="num">8.6.</td><td><a href="Programming___-Proving___-and-Performance/Insertion-Sort-and-Array-Mutation/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Insertion-Sort-and-Array-Mutation">Insertion Sort and Array Mutation</a></td></tr><tr class="numbered"><td class="num">8.7.</td><td><a href="Programming___-Proving___-and-Performance/Special-Types/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Special-Types">Special Types</a></td></tr><tr class="numbered"><td class="num">8.8.</td><td><a href="Programming___-Proving___-and-Performance/Summary/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Summary">Summary</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence" checked="checked"></label><span class="number">8.2.</span> <span class="current"><a href="Programming___-Proving___-and-Performance/Proving-Equivalence/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence">Proving Equivalence</a></span></div>
              <table><tr class="numbered"><td class="num">8.2.1.</td><td><a href="Programming___-Proving___-and-Performance/Proving-Equivalence/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--Proving--sum--Equal">Proving <code>sum</code> Equal</a></td></tr><tr class="numbered"><td class="num">8.2.2.</td><td><a href="Programming___-Proving___-and-Performance/Proving-Equivalence/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--A-Second-Attempt">A Second Attempt</a></td></tr><tr class="numbered"><td class="num">8.2.3.</td><td><a href="Programming___-Proving___-and-Performance/Proving-Equivalence/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--Exercise">Exercise</a></td></tr></table></div>
            </div>
          </div>
        <div class="last">
          <ul id="meta-links">
            <li>
              <a href="https://github.com/leanprover/fp-lean">Source Code</a></li>
            <li>
              <a href="https://github.com/leanprover/fp-lean/issues">Report Issues</a></li>
            </ul>
          </div>
        </nav>
      <main><div class="content-wrapper">
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Programming___-Proving___-and-Performance/Tail-Recursion/#tail-recursion" rel="prev" title="8.1. Tail Recursion"><span class="arrow">←</span><span class="where">8.1. Tail Recursion</span></a><a class="local-button active" href="Programming___-Proving___-and-Performance/Arrays-and-Termination/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Arrays-and-Termination" rel="next" title="8.3. Arrays and Termination"><span class="where">8.3. Arrays and Termination</span><span class="arrow">→</span></a></nav>
          <section>
            <h1>
              8.2. Proving Equivalence</h1>
            <p>
              Programs that have been rewritten to use tail recursion and an accumulator can look quite different from the original program.
The original recursive function is often much easier to understand, but it runs the risk of exhausting the stack at run time.
After testing both versions of the program on examples to rule out simple bugs, proofs can be used to show once and for all that the programs are equivalent.</p>
            <section>
              <h2 id="Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--Proving--sum--Equal">
                8.2.1. Proving <code>sum</code> Equal</h2>
              <p>
                To prove that both versions of <code>sum</code> are equal, begin by writing the theorem statement with a stub proof:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-6436">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
⊢ NonTail.sum = Tail.sum</code></span></span><span class="tactic"><label for="tactic-state-79471914270036550-6497-6499"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-6497" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-6497-6499"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-79471914270036550-6502-6506"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-6502" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-6502-6506"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span></span></code><p>
                As expected, Lean describes an unsolved goal:</p>
              <div class="error">
                <pre>unsolved goals
⊢ NonTail.sum = Tail.sum</pre></div>
              <p>
                The <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">rfl</span></code> tactic cannot be applied here because <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></code> are not definitionally equal.
Functions can be equal in more ways than just definitional equality, however.
It is also possible to prove that two functions are equal by proving that they produce equal outputs for the same input.
In other words, <code class="math inline">f = g</code> can be proved by proving that <code class="math inline">f(x) = g(x)</code> for all possible inputs <code class="math inline">x</code>.
This principle is called <em>function extensionality</em>.
Function extensionality is exactly the reason why <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span></code> equals <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></code>: they both sum lists of numbers.</p>
              <p>
                In Lean's tactic language, function extensionality is invoked using <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-tacticFunext___-6739" data-verso-hover="1865">funext</span></code>, followed by a name to be used for the arbitrary argument.
The arbitrary argument is added as an assumption to the context, and the goal changes to require a proof that the functions applied to this argument are equal:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-6673">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h
xs : List Nat
⊢ NonTail.sum xs = Tail.sum xs</code></span></span><span class="tactic"><label for="tactic-state-79471914270036550-6734-6736"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-6734" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-6734-6736"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-2094988975267103738-6739-6748"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-6739" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21541" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-2094988975267103738-6739-6748"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-131" checked="checked"><span for="--verso-unique-131" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21541" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21541" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21541" data-verso-hover="930">xs</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case h
xs : List Nat
⊢ NonTail.sum xs = Tail.sum xs</pre></div>
              <p>
                This goal can be proved by induction on the argument <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.21541" data-verso-hover="930">xs</span></code>.
Both <code>sum</code> functions return <code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="5">0</span></code> when applied to the empty list, which serves as a base case.
Adding a number to the beginning of the input list causes both functions to add that number to the result, which serves as an induction step.
Invoking the <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-7125" data-verso-hover="1831">induction</span></code> tactic results in two goals:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-7047">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-79471914270036550-7108-7110"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-7108" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-7108-7110"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-8663172838292556444-7113-7122"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-7113" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21573" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-8663172838292556444-7113-7122"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-133" checked="checked"><span for="--verso-unique-133" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21573" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21573" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21573" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-7125" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21573" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-7138" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h.nil
⊢ NonTail.sum [] = Tail.sum []</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-13105117925046360652-7154-7158"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-7154" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-13105117925046360652-7154-7158"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-134" checked="checked"><span for="--verso-unique-134" class="goal-name">h.nil</span></label><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21603" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21604" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21605" data-verso-hover="1866">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ NonTail.sum (y :: ys) = Tail.sum (y :: ys)</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-12365929928227218079-7179-7183"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-7179" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-12365929928227218079-7179-7183"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-135" checked="checked"><span for="--verso-unique-135" class="goal-name">h.cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21603" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21604" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21605" data-verso-hover="1866">ih</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21604" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21604" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.21603" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.21604" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.21603" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.21604" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case h.nil
⊢ NonTail.sum [] = Tail.sum []</pre></div>
              <div class="error">
                <pre>unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ NonTail.sum (y :: ys) = Tail.sum (y :: ys)</pre></div>
              <p>
                The base case for <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span></code> can be solved using <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-7955" data-verso-hover="1826">rfl</span></code>, because both functions return <code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="5">0</span></code> when passed the empty list:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-7848">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-79471914270036550-7909-7911"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-7909" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-7909-7911"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-14287156950885461494-7914-7923"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-7914" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21705" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-14287156950885461494-7914-7923"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-137" checked="checked"><span for="--verso-unique-137" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21705" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21705" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21705" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-7926" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21705" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-7939" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-7955-7958"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-7955" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-7955-7958"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21745" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21746" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21747" data-verso-hover="1866">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ NonTail.sum (y :: ys) = Tail.sum (y :: ys)</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-5621780483084422459-7979-7983"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-7979" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-5621780483084422459-7979-7983"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-138" checked="checked"><span for="--verso-unique-138" class="goal-name">h.cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21745" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21746" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21747" data-verso-hover="1866">ih</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21746" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21746" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.21745" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.21746" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.21745" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.21746" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span></span></code><p>
                The first step in solving the induction step is to simplify the goal, asking <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-8351" data-verso-hover="379">simp</span></code> to unfold <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></code>:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-8216">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-79471914270036550-8277-8279"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-8277" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-8277-8279"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-9860366639590835635-8282-8291"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-8282" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21781" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-9860366639590835635-8282-8291"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-140" checked="checked"><span for="--verso-unique-140" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21781" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21781" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21781" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-8294" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21781" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-8307" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-8323-8326"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-8323" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-8323-8326"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21821" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21822" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21823" data-verso-hover="1866">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ y + NonTail.sum ys = Tail.sumHelper 0 (y :: ys)</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-16565114663596607888-8351-8379"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-8351" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16565114663596607888-8351-8379"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-141" checked="checked"><span for="--verso-unique-141" class="goal-name">h.cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21821" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21822" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.21823" data-verso-hover="1866">ih</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21822" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21822" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.21821" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21822" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="inter-text">0</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.21821" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.21822" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ y + NonTail.sum ys = Tail.sumHelper 0 (y :: ys)</pre></div>
              <p>
                Unfolding <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></code> revealed that it immediately delegates to <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span></code>, which should also be simplified:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-8605">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-79471914270036550-8666-8668"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-8666" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-8666-8668"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-14494937667363163978-8671-8680"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-8671" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22041" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-14494937667363163978-8671-8680"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-143" checked="checked"><span for="--verso-unique-143" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22041" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22041" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22041" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-8683" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22041" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-8696" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-8712-8715"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-8712" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-8712-8715"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22081" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22082" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22083" data-verso-hover="1866">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ y + NonTail.sum ys = Tail.sumHelper y ys</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-726357249259431868-8740-8784"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-8740" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-726357249259431868-8740-8784"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-144" checked="checked"><span for="--verso-unique-144" class="goal-name">h.cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22081" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22082" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22083" data-verso-hover="1866">ih</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22082" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22082" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.22081" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22082" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22081" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22082" data-verso-hover="930">ys</span></span></span></span></span></span></span></span></code><p>
                In the resulting goal, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">sumHelper</span></code> has taken a step of computation and added <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.22081" data-verso-hover="5">y</span></code> to the accumulator:</p>
              <div class="error">
                <pre>unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ y + NonTail.sum ys = Tail.sumHelper y ys</pre></div>
              <p>
                Rewriting with the induction hypothesis removes all mentions of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span></code> from the goal:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-9007">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-79471914270036550-9068-9070"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9068" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-9068-9070"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-15328427796085366441-9073-9082"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-9073" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22313" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15328427796085366441-9073-9082"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-146" checked="checked"><span for="--verso-unique-146" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22313" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22313" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22313" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-9085" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22313" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-9098" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-9114-9117"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-9114" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9114-9117"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22353" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22355" data-verso-hover="1866">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ y + Tail.sum ys = Tail.sumHelper y ys</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-15455564556968521325-9142-9186"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-9142" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15455564556968521325-9142-9186"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-147" checked="checked"><span for="--verso-unique-147" class="goal-name">h.cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22353" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22355" data-verso-hover="1866">ih</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.22353" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22353" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-14835636637887843654-9191-9198"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-9191" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.22355" data-verso-hover="1866">ih</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-14835636637887843654-9191-9198"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-148" checked="checked"><span for="--verso-unique-148" class="goal-name">h.cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22353" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22355" data-verso-hover="1866">ih</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.22353" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22353" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22354" data-verso-hover="930">ys</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case h.cons
y : Nat
ys : List Nat
ih : NonTail.sum ys = Tail.sum ys
⊢ y + Tail.sum ys = Tail.sumHelper y ys</pre></div>
              <p>
                This new goal states that adding some number to the sum of a list is the same as using that number as the initial accumulator in <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">sumHelper</span></code>.
For the sake of clarity, this new goal can be proved as a separate theorem:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-4967">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-helper_add_sum_accum" data-verso-hover="1867">helper_add_sum_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
xs : List Nat
n : Nat
⊢ n + Tail.sum xs = Tail.sumHelper n xs</code></span></span><span class="tactic"><label for="tactic-state-8059200873370920900-5069-5071"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-5069" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-8059200873370920900-5069-5071"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-8059200873370920900-5074-5078"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-5074" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-8059200873370920900-5074-5078"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20540" data-verso-hover="930">xs</span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
xs : List Nat
n : Nat
⊢ n + Tail.sum xs = Tail.sumHelper n xs</pre></div>
              <p>
                Once again, this is a proof by induction where the base case uses <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-5478" data-verso-hover="1826">rfl</span></code>:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-5342">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-helper_add_sum_accum" data-verso-hover="1867">helper_add_sum_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20591" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20591" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20591" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-15589437086403811132-5444-5446"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-5444" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15589437086403811132-5444-5446"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20591" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20591" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20591" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-5449" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20591" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-5462" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-5478-5481"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-5478" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-5478-5481"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20682" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20683" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20684" data-verso-hover="1868">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
n y : Nat
ys : List Nat
ih : n + Tail.sum ys = Tail.sumHelper n ys
⊢ n + Tail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-12228291914935405159-5502-5506"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-5502" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-12228291914935405159-5502-5506"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-152" checked="checked"><span for="--verso-unique-152" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20682" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20683" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20684" data-verso-hover="1868">ih</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20683" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20683" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.20682" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.20683" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.20682" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.20683" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case cons
n y : Nat
ys : List Nat
ih : n + Tail.sum ys = Tail.sumHelper n ys
⊢ n + Tail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</pre></div>
              <p>
                Because this is an inductive step, the goal should be simplified until it matches the induction hypothesis <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.20785" data-verso-hover="1868">ih</span></code>.
Simplifying, using the definitions of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span></code>, results in the following:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-5770">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-helper_add_sum_accum" data-verso-hover="1867">helper_add_sum_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20692" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20692" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20692" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-1855624834839362391-5872-5874"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-5872" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1855624834839362391-5872-5874"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20692" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20692" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20692" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-5877" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20692" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-5890" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-5906-5909"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-5906" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-5906-5909"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20783" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20784" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20785" data-verso-hover="1868">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
n y : Nat
ys : List Nat
ih : n + Tail.sum ys = Tail.sumHelper n ys
⊢ n + Tail.sumHelper y ys = Tail.sumHelper (y + n) ys</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-1289402277338361735-5934-5965"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-5934" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1289402277338361735-5934-5965"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-154" checked="checked"><span for="--verso-unique-154" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20783" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20784" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.20785" data-verso-hover="1868">ih</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20784" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20784" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20783" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20784" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.20783" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.20694" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20784" data-verso-hover="930">ys</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case cons
n y : Nat
ys : List Nat
ih : n + Tail.sum ys = Tail.sumHelper n ys
⊢ n + Tail.sumHelper y ys = Tail.sumHelper (y + n) ys</pre></div>
              <p>
                Ideally, the induction hypothesis could be used to replace <code>Tail.sumHelper (y + n) ys</code>, but they don't match.
The induction hypothesis can be used for <code>Tail.sumHelper n ys</code>, not <code>Tail.sumHelper (y + n) ys</code>.
In other words, this proof is stuck.</p>
              </section>
            <section>
              <h2 id="Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--A-Second-Attempt">
                8.2.2. A Second Attempt</h2>
              <p>
                Rather than attempting to muddle through the proof, it's time to take a step back and think.
Why is it that the tail-recursive version of the function is equal to the non-tail-recursive version?
Fundamentally speaking, at each entry in the list, the accumulator grows by the same amount as would be added to the result of the recursion.
This insight can be used to write an elegant proof.
Crucially, the proof by induction must be set up such that the induction hypothesis can be applied to <em>any</em> accumulator value.</p>
              <p>
                Discarding the prior attempt, the insight can be encoded as the following statement:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-9395">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22576" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22576" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22576" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
xs : List Nat
⊢ ∀ (n : Nat), n + NonTail.sum xs = Tail.sumHelper n xs</code></span></span><span class="tactic"><label for="tactic-state-16049575814878763789-9512-9514"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9512" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16049575814878763789-9512-9514"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22623" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22623" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22623" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-16049575814878763789-9517-9521"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-9517" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16049575814878763789-9517-9521"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22623" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22623" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22623" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22573" data-verso-hover="930">xs</span></span></span></span></span></span></span></code><p>
                In this statement, it's very important that <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.22576" data-verso-hover="5">n</span></code> is part of the type that's after the colon.
The resulting goal begins with <code>∀ (n : Nat)</code>, which is short for “For all <code>n</code>”:</p>
              <div class="error">
                <pre>unsolved goals
xs : List Nat
⊢ ∀ (n : Nat), n + NonTail.sum xs = Tail.sumHelper n xs</pre></div>
              <p>
                Using the induction tactic results in goals that include this “for all” statement:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-9917">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22625" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22628" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22628" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22625" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22628" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22625" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-15099513639682451848-10034-10036"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-10034" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15099513639682451848-10034-10036"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22625" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22625" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22625" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-10039" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22625" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-10052" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case nil
⊢ ∀ (n : Nat), n + NonTail.sum [] = Tail.sumHelper n []</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-8021956966019917255-10068-10072"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-10068" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-8021956966019917255-10068-10072"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-158" checked="checked"><span for="--verso-unique-158" class="goal-name">nil</span></label><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22700" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22701" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22702" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
⊢ ∀ (n : Nat), n + NonTail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7335794616832052172-10093-10097"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-10093" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7335794616832052172-10093-10097"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-159" checked="checked"><span for="--verso-unique-159" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22700" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22701" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22702" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22701" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22701" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.22700" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.22701" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22709" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.22700" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.22701" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span></span></code><p>
                In the <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span></code> case, the goal is:</p>
              <div class="error">
                <pre>unsolved goals
case nil
⊢ ∀ (n : Nat), n + NonTail.sum [] = Tail.sumHelper n []</pre></div>
              <p>
                For the induction step for <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span></code>, both the induction hypothesis and the specific goal contain the “for all <code>n</code>”:</p>
              <div class="error">
                <pre>unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
⊢ ∀ (n : Nat), n + NonTail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</pre></div>
              <p>
                In other words, the goal has become more challenging to prove, but the induction hypothesis is correspondingly more useful.</p>
              <p>
                A mathematical proof for a statement that beings with “for all <code class="math inline">x</code>” should assume some arbitrary <code class="math inline">x</code>, and prove the statement.
“Arbitrary” means that no additional properties of <code class="math inline">x</code> are assumed, so the resulting statement will work for <em>any</em> <code class="math inline">x</code>.
In Lean, a “for all” statement is a dependent function: no matter which specific value it is applied to, it will return evidence of the proposition.
Similarly, the process of picking an arbitrary <code class="math inline">x</code> is the same as using <code>fun x =&gt; ...</code>.
In the tactic language, this process of selecting an arbitrary <code class="math inline">x</code> is performed using the <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">intro</span></code> tactic, which produces the function behind the scenes when the tactic script has completed.
The <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">intro</span></code> tactic should be provided with the name to be used for this arbitrary value.</p>
              <p>
                Using the <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">intro</span></code> tactic in the <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span></code> case removes the <code>∀ (n : Nat),</code> from the goal, and adds an assumption <code>n : Nat</code>:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-11063">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22797" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22800" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22800" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22797" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22800" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22797" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-8479251181020879175-11180-11182"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-11180" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-8479251181020879175-11180-11182"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22797" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22797" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22797" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-11185" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22797" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-11198" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case nil
n : Nat
⊢ n + NonTail.sum [] = Tail.sumHelper n []</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-17918075939536788867-11214-11221"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-11214" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22867" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-17918075939536788867-11214-11221"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-161" checked="checked"><span for="--verso-unique-161" class="goal-name">nil</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22867" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.22867" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22867" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22875" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22876" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22877" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
⊢ ∀ (n : Nat), n + NonTail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-14183597616049095012-11242-11246"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-11242" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-14183597616049095012-11242-11246"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-162" checked="checked"><span for="--verso-unique-162" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22875" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22876" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22877" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22876" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22876" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.22875" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.22876" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22884" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.22875" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.22876" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case nil
n : Nat
⊢ n + NonTail.sum [] = Tail.sumHelper n []</pre></div>
              <p>
                Both sides of this propositional equality are definitionally equal to <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.22889" data-verso-hover="5">n</span></code>, so <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-11713" data-verso-hover="1826">rfl</span></code> suffices:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-11546">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22886" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22889" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22889" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22886" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22889" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22886" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-1743447066255522462-11663-11665"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-11663" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1743447066255522462-11663-11665"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22886" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22886" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22886" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-11668" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22886" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-11681" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-15298811141567609585-11701-11708"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-11701" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22956" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15298811141567609585-11701-11708"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-164" checked="checked"><span for="--verso-unique-164" class="goal-name">nil</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22956" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.22956" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22956" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7-11713-11716"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-11713" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-11713-11716"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22981" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22982" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22983" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
⊢ ∀ (n : Nat), n + NonTail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-12640961081006032895-11737-11741"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.skip-11737" data-verso-hover="1834">skip</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-12640961081006032895-11737-11741"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-165" checked="checked"><span for="--verso-unique-165" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22981" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22982" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22983" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22982" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22982" data-verso-hover="930">ys</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.22981" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.22982" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22990" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.22981" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.22982" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span></span></code><p>
                The <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span></code> goal also contains a “for all”:</p>
              <div class="error">
                <pre>unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
⊢ ∀ (n : Nat), n + NonTail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</pre></div>
              <p>
                This suggests the use of <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">intro</span></code>.</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-12034">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22992" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22995" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22995" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22992" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22995" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22992" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-12420588477581095308-12151-12153"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-12151" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-12420588477581095308-12151-12153"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.22992" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23099" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23099" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22992" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23099" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22992" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-12156" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22992" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-12169" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-15040975568771783561-12189-12196"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-12189" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23062" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15040975568771783561-12189-12196"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-167" checked="checked"><span for="--verso-unique-167" class="goal-name">nil</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23062" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23062" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23062" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7-12201-12204"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-12201" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-12201-12204"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23087" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23088" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23089" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ n + NonTail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-1400122187921316078-12229-12236"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-12229" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23094" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1400122187921316078-12229-12236"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-168" checked="checked"><span for="--verso-unique-168" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23087" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23088" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23089" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23099" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23099" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23088" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23099" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23088" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23094" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23094" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.23087" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.23088" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23094" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.23087" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.23088" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ n + NonTail.sum (y :: ys) = Tail.sumHelper n (y :: ys)</pre></div>
              <p>
                The proof goal now contains both <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span></code> applied to <code>y :: ys</code>.
The simplifier can make the next step more clear:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-12527">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23101" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23104" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23104" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23101" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23104" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23101" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7714167507919380858-12644-12646"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-12644" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7714167507919380858-12644-12646"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23101" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23101" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23101" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-12649" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23101" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-12662" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-1096714821687114582-12682-12689"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-12682" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23171" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1096714821687114582-12682-12689"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-170" checked="checked"><span for="--verso-unique-170" class="goal-name">nil</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23171" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23171" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23171" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7-12694-12697"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-12694" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-12694-12697"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23196" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23198" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ n + (y + NonTail.sum ys) = Tail.sumHelper (y + n) ys</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-12107775725277571212-12722-12729"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-12722" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23203" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-12107775725277571212-12722-12729"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-171" checked="checked"><span for="--verso-unique-171" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23196" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23198" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23203" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23203" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.23196" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23203" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.23196" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-2021853140176712696-12734-12768"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-12734" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-2021853140176712696-12734-12768"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-172" checked="checked"><span for="--verso-unique-172" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23196" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23198" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23397" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23203" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23203" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23196" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23196" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23203" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23197" data-verso-hover="930">ys</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ n + (y + NonTail.sum ys) = Tail.sumHelper (y + n) ys</pre></div>
              <p>
                This goal is very close to matching the induction hypothesis.
There are two ways in which it does not match:</p>
              <ul>
                <li>
                  <p>
                    The left-hand side of the equation is <code>n + (y + NonTail.sum ys)</code>, but the induction hypothesis needs the left-hand side to be a number added to <code>NonTail.sum ys</code>.
   In other words, this goal should be rewritten to <code>(n + y) + NonTail.sum ys</code>, which is valid because addition of natural numbers is associative.</p>
                  </li>
                <li>
                  <p>
                    When the left side has been rewritten to <code>(y + n) + NonTail.sum ys</code>, the accumulator argument on the right side should be <code>n + y</code> rather than <code>y + n</code> in order to match.
   This rewrite is valid because addition is also commutative.</p>
                  </li>
                </ul>
              <p>
                The associativity and commutativity of addition have already been proved in Lean's standard library.
The proof of associativity is named <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Nat.add_assoc" data-verso-hover="1872">Nat.add_assoc</span></code>, and its type is <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24718" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24720" data-verso-hover="5">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24722" data-verso-hover="5">k</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24718" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24720" data-verso-hover="5">m</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24722" data-verso-hover="5">k</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24718" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24720" data-verso-hover="5">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24722" data-verso-hover="5">k</span><span class="unknown token" data-binding="">)</span></code>, while the proof of commutativity is called <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Nat.add_comm" data-verso-hover="1873">Nat.add_comm</span></code> and has type <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24832" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24834" data-verso-hover="5">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24832" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24834" data-verso-hover="5">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24834" data-verso-hover="5">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24832" data-verso-hover="5">n</span></code>.
Normally, the <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">rw</span></code> tactic is provided with an expression whose type is an equality.
However, if the argument is instead a dependent function whose return type is an equality, it attempts to find arguments to the function that would allow the equality to match something in the goal.
There is only one opportunity to apply associativity, though the direction of the rewrite must be reversed because the right side of the equality in <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24718" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24720" data-verso-hover="5">m</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24722" data-verso-hover="5">k</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24718" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24720" data-verso-hover="5">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24722" data-verso-hover="5">k</span><span class="unknown token" data-binding="">)</span></code> is the one that matches the proof goal:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-13057">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23399" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23402" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23402" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23399" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23402" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23399" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-51496679191787518-13174-13176"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-13174" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-51496679191787518-13174-13176"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23399" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23399" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23399" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-13179" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23399" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-13192" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-10910114171041598013-13212-13219"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-13212" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23469" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10910114171041598013-13212-13219"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-174" checked="checked"><span for="--verso-unique-174" class="goal-name">nil</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23469" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23469" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23469" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7-13224-13227"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-13224" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-13224-13227"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23496" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ n + y + NonTail.sum ys = Tail.sumHelper (y + n) ys</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-13184908520713776165-13252-13259"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-13252" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-13184908520713776165-13252-13259"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-175" checked="checked"><span for="--verso-unique-175" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23496" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-4124241994430895987-13264-13298"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-13264" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-4124241994430895987-13264-13298"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-176" checked="checked"><span for="--verso-unique-176" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23496" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-10067997070152087867-13303-13324"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-13303" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">←</span><span class="const token" data-binding="const-Nat.add_assoc" data-verso-hover="1872">Nat.add_assoc</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10067997070152087867-13303-13324"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-177" checked="checked"><span for="--verso-unique-177" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23496" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23715" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23501" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="930">ys</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ n + y + NonTail.sum ys = Tail.sumHelper (y + n) ys</pre></div>
              <p>
                Rewriting directly with <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-13887" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Nat.add_comm" data-verso-hover="1873">Nat.add_comm</span><span class="unknown token" data-binding="">]</span></code>, however, leads to the wrong result.
The <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">rw</span></code> tactic guesses the wrong location for the rewrite, leading to an unintended goal:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-13615">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23717" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23720" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23720" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23717" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23720" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23717" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-12338325857495037266-13732-13734"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-13732" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-12338325857495037266-13732-13734"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23717" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23717" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23717" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-13737" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23717" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-13750" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-17378873294415488492-13770-13777"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-13770" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23787" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-17378873294415488492-13770-13777"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-179" checked="checked"><span for="--verso-unique-179" class="goal-name">nil</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23787" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23787" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23787" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7-13782-13785"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-13782" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-13782-13785"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23814" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ NonTail.sum ys + (n + y) = Tail.sumHelper (y + n) ys</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-17867397098973922573-13810-13817"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-13810" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-17867397098973922573-13810-13817"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-180" checked="checked"><span for="--verso-unique-180" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23814" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7198993175912291068-13822-13856"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-13822" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7198993175912291068-13822-13856"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-181" checked="checked"><span for="--verso-unique-181" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23814" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-9439887302943377772-13861-13882"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-13861" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">←</span><span class="const token" data-binding="const-Nat.add_assoc" data-verso-hover="1872">Nat.add_assoc</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-9439887302943377772-13861-13882"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-182" checked="checked"><span for="--verso-unique-182" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23814" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-3028035345289732359-13887-13904"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-13887" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Nat.add_comm" data-verso-hover="1873">Nat.add_comm</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3028035345289732359-13887-13904"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-183" checked="checked"><span for="--verso-unique-183" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23814" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24044" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.23812" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.23819" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23813" data-verso-hover="930">ys</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ NonTail.sum ys + (n + y) = Tail.sumHelper (y + n) ys</pre></div>
              <p>
                This can be fixed by explicitly providing <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.24049" data-verso-hover="5">n</span></code> as arguments to <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Nat.add_comm" data-verso-hover="1873">Nat.add_comm</span></code>:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-14193">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24046" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24049" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24049" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24046" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24049" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24046" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-1149629332809413154-14310-14312"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-14310" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1149629332809413154-14310-14312"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24046" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24046" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24046" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-14315" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24046" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-14328" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-5505623360689692118-14348-14355"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-14348" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24116" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-5505623360689692118-14348-14355"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-185" checked="checked"><span for="--verso-unique-185" class="goal-name">nil</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24116" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24116" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24116" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7-14360-14363"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-14360" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-14360-14363"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24143" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ n + y + NonTail.sum ys = Tail.sumHelper (n + y) ys</code></span></span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-16127073993110190707-14388-14395"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-14388" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16127073993110190707-14388-14395"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-186" checked="checked"><span for="--verso-unique-186" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24143" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-9301310674151110095-14400-14434"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-14400" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-9301310674151110095-14400-14434"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-187" checked="checked"><span for="--verso-unique-187" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24143" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-16417173682834181862-14439-14460"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-14439" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">←</span><span class="const token" data-binding="const-Nat.add_assoc" data-verso-hover="1872">Nat.add_assoc</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16417173682834181862-14439-14460"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-188" checked="checked"><span for="--verso-unique-188" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24143" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7150344338690844586-14465-14486"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-14465" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Nat.add_comm" data-verso-hover="1873">Nat.add_comm</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7150344338690844586-14465-14486"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-189" checked="checked"><span for="--verso-unique-189" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24143" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24369" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.24148" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24141" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24142" data-verso-hover="930">ys</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case cons
y : Nat
ys : List Nat
ih : ∀ (n : Nat), n + NonTail.sum ys = Tail.sumHelper n ys
n : Nat
⊢ n + y + NonTail.sum ys = Tail.sumHelper (n + y) ys</pre></div>
              <p>
                The goal now matches the induction hypothesis.
In particular, the induction hypothesis's type is a dependent function type.
Applying <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.24468" data-verso-hover="1870">ih</span></code> to <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span></code> results in exactly the desired type.
The <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">exact</span></code> tactic completes a proof goal if its argument has exactly the desired type:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-14567">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24371" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24374" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24374" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24371" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24374" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24371" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-5433215116215776157-14684-14686"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-14684" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-5433215116215776157-14684-14686"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24371" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24371" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24371" data-verso-hover="930">xs</span></span></span></span></span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.induction-14689" data-verso-hover="1831">induction</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24371" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.inductionAlts-14702" data-verso-hover="1833">with</span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">nil</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-480598004948570740-14718-14725"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-14718" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24441" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-480598004948570740-14718-14725"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-191" checked="checked"><span for="--verso-unique-191" class="goal-name">nil</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24441" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24441" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24441" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">[</span><span class="const token" data-binding="const-List.nil" data-verso-hover="133">]</span></span></span></span></span></span></span><span class="unknown token" data-binding="">;</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-14727-14730"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-14727" data-verso-hover="1826">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-14727-14730"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span><span class="inter-text">  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">cons</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24468" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="tactic"><label for="tactic-state-18432150183239424852-14755-14762"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-14755" data-verso-hover="1871">intro</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-18432150183239424852-14755-14762"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-192" checked="checked"><span for="--verso-unique-192" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24468" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">(</span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132"> :: </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-List.cons" data-verso-hover="132">)</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-10203623669564143704-14767-14801"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-14767" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10203623669564143704-14767-14801"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-193" checked="checked"><span for="--verso-unique-193" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24468" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-18370353284562844511-14806-14827"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-14806" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">←</span><span class="const token" data-binding="const-Nat.add_assoc" data-verso-hover="1872">Nat.add_assoc</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-18370353284562844511-14806-14827"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-194" checked="checked"><span for="--verso-unique-194" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24468" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-14527490415079652487-14832-14853"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-14832" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Nat.add_comm" data-verso-hover="1873">Nat.add_comm</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-14527490415079652487-14832-14853"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-195" checked="checked"><span for="--verso-unique-195" class="goal-name">cons</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24468" data-verso-hover="1870">ih</span></span><span class="colon">:</span><span class="type"><span class="inter-text">∀ (</span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="inter-text">), </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24716" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">(</span><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24467" data-verso-hover="930">ys</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7-14858-14874"><span class="inter-text">
    </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.exact-14858" data-verso-hover="1840">exact</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24468" data-verso-hover="1870">ih</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24473" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24466" data-verso-hover="5">y</span><span class="unknown token" data-binding="">)</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-14858-14874"><span class="tactic-state">All goals completed! 🐙</span></span></code><p>
                The actual proof requires only a little additional work to get the goal to match the helper's type.
The first step is still to invoke function extensionality:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-15275">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h
xs : List Nat
⊢ NonTail.sum xs = Tail.sum xs</code></span></span><span class="tactic"><label for="tactic-state-79471914270036550-15336-15338"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-15336" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-15336-15338"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-5953217075579813044-15341-15350"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-15341" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24927" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-5953217075579813044-15341-15350"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-197" checked="checked"><span for="--verso-unique-197" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24927" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24927" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24927" data-verso-hover="930">xs</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case h
xs : List Nat
⊢ NonTail.sum xs = Tail.sum xs</pre></div>
              <p>
                The next step is unfold <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></code>, exposing <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span></code>:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-15541">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h
xs : List Nat
⊢ NonTail.sum xs = Tail.sumHelper 0 xs</code></span></span><span class="tactic"><label for="tactic-state-79471914270036550-15602-15604"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-15602" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-15602-15604"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-8838982920490253526-15607-15616"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-15607" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24959" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-8838982920490253526-15607-15616"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-199" checked="checked"><span for="--verso-unique-199" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24959" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24959" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24959" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-13238810648243259331-15619-15634"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-15619" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-13238810648243259331-15619-15634"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-200" checked="checked"><span for="--verso-unique-200" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.24959" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24959" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="inter-text">0</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24959" data-verso-hover="930">xs</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case h
xs : List Nat
⊢ NonTail.sum xs = Tail.sumHelper 0 xs</pre></div>
              <p>
                Having done this, the types almost match.
However, the helper has an additional addend on the left side.
In other words, the proof goal is <code>NonTail.sum xs = Tail.sumHelper 0 xs</code>, but applying <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span></code> to <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="5">0</span></code> yields the type <code>0 + NonTail.sum xs = Tail.sumHelper 0 xs</code>.
Another standard library proof, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Nat.zero_add" data-verso-hover="1874">Nat.zero_add</span></code>, has type <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24994" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="5">0</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24994" data-verso-hover="5">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24994" data-verso-hover="5">n</span></code>.
Applying this function to <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></code> results in an expression with type <code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="5">0</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-Wak.xs" data-verso-hover="1875">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="const token" data-binding="const-Wak.xs" data-verso-hover="1875">xs</span></code>, so rewriting from right to left results in the desired goal:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-16113">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h
xs : List Nat
⊢ 0 + NonTail.sum xs = Tail.sumHelper 0 xs</code></span></span><span class="tactic"><label for="tactic-state-79471914270036550-16174-16176"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-16174" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-16174-16176"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-15055827114155859512-16179-16188"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-16179" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15055827114155859512-16179-16188"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-202" checked="checked"><span for="--verso-unique-202" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-10993472050172457365-16191-16206"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-16191" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10993472050172457365-16191-16206"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-203" checked="checked"><span for="--verso-unique-203" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="inter-text">0</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-13698796427289156971-16209-16246"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-16209" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">←</span><span class="const token" data-binding="const-Nat.zero_add" data-verso-hover="1874">Nat.zero_add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-13698796427289156971-16209-16246"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-204" checked="checked"><span for="--verso-unique-204" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">0</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="inter-text">0</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25158" data-verso-hover="930">xs</span></span></span></span></span></span></span></span></code><div class="error">
                <pre>unsolved goals
case h
xs : List Nat
⊢ 0 + NonTail.sum xs = Tail.sumHelper 0 xs</pre></div>
              <p>
                Finally, the helper can be used to complete the proof:</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-16323">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-79471914270036550-16384-16386"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-16384" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-79471914270036550-16384-16386"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-15878839961393628340-16389-16398"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-16389" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15878839961393628340-16389-16398"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-206" checked="checked"><span for="--verso-unique-206" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-18352052847532175993-16401-16416"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-16401" data-verso-hover="379">simp</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Tail.sum" data-verso-hover="1856">Tail.sum</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-18352052847532175993-16401-16416"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-207" checked="checked"><span for="--verso-unique-207" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="inter-text">0</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-4676971920158499680-16419-16456"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-16419" data-verso-hover="1837">rw</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">←</span><span class="const token" data-binding="const-Nat.zero_add" data-verso-hover="1874">Nat.zero_add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-4676971920158499680-16419-16456"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-208" checked="checked"><span for="--verso-unique-208" class="goal-name">h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="6">Nat</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text">0</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="341"> + </span><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">NonTail.sum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span><span class="inter-text"> </span><span class="inter-text">0</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span></span></span></span></span></span></span><span class="tactic"><label for="tactic-state-7-16459-16498"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.exact-16459" data-verso-hover="1840">exact</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_sum_eq_helper_accum" data-verso-hover="1869">non_tail_sum_eq_helper_accum</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25238" data-verso-hover="930">xs</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="5">0</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-16459-16498"><span class="tactic-state">All goals completed! 🐙</span></span></code><p>
                This proof demonstrates a general pattern that can be used when proving that an accumulator-passing tail-recursive function is equal to the non-tail-recursive version.
The first step is to discover the relationship between the starting accumulator argument and the final result.
For instance, beginning <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span></code> with an accumulator of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.26472" data-verso-hover="1876">n</span></code> results in the final sum being added to <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.26472" data-verso-hover="1876">n</span></code>, and beginning <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.reverseHelper" data-verso-hover="1859">Tail.reverseHelper</span></code> with an accumulator of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.26497" data-verso-hover="137">ys</span></code> results in the final reversed list being prepended to <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.26497" data-verso-hover="137">ys</span></code>.
The second step is to write down this relationship as a theorem statement and prove it by induction.
While the accumulator is always initialized with some neutral value in practice, such as <code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="5">0</span></code> or <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">]</span></code>, this more general statement that allows the starting accumulator to be any value is what's needed to get a strong enough induction hypothesis.
Finally, using this helper theorem with the actual initial accumulator value results in the desired proof.
For example, in <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-non_tail_sum_eq_tail_sum" data-verso-hover="1864">non_tail_sum_eq_tail_sum</span></code>, the accumulator is specified to be <code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="5">0</span></code>.
This may require rewriting the goal to make the neutral initial accumulator values occur in the right place.</p>
              </section>
            <section>
              <h2 id="Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--Exercise">
                8.2.3. Exercise</h2>
              <section>
                <h3 id="Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--Exercise--Warming-Up">
                  8.2.3.1. Warming Up</h3>
                <p>
                  Write your own proofs for <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Nat.zero_add" data-verso-hover="1874">Nat.zero_add</span></code>, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Nat.add_assoc" data-verso-hover="1872">Nat.add_assoc</span></code>, and <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Nat.add_comm" data-verso-hover="1873">Nat.add_comm</span></code> using the <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">induction</span></code> tactic.</p>
                </section>
              <section>
                <h3 id="Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--Exercise--More-Accumulator-Proofs">
                  8.2.3.2. More Accumulator Proofs</h3>
                <section>
                  <h4 id="Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--Exercise--More-Accumulator-Proofs--Reversing-Lists">
                    8.2.3.2.1. Reversing Lists</h4>
                  <p>
                    Adapt the proof for <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.sum" data-verso-hover="1855">sum</span></code> into a proof for <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.reverse" data-verso-hover="1858">NonTail.reverse</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.reverse" data-verso-hover="1860">Tail.reverse</span></code>.
The first step is to think about the relationship between the accumulator value being passed to <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.reverseHelper" data-verso-hover="1859">Tail.reverseHelper</span></code> and the non-tail-recursive reverse.
Just as adding a number to the accumulator in <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.sumHelper" data-verso-hover="1857">Tail.sumHelper</span></code> is the same as adding it to the overall sum, using <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-List.cons" data-verso-hover="132">List.cons</span></code> to add a new entry to the accumulator in <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.reverseHelper" data-verso-hover="1859">Tail.reverseHelper</span></code> is equivalent to some change to the overall result.
Try three or four different accumulator values with pencil and paper until the relationship becomes clear.
Use this relationship to prove a suitable helper theorem.
Then, write down the overall theorem.
Because <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.reverse" data-verso-hover="1858">NonTail.reverse</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Tail.reverse" data-verso-hover="1860">Tail.reverse</span></code> are polymorphic, stating their equality requires the use of <code>@</code> to stop Lean from trying to figure out which type to use for <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.25946" data-verso-hover="369">α</span></code>.
Once <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.25946" data-verso-hover="369">α</span></code> is treated as an ordinary argument, <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">funext</span></code> should be invoked with both <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.25946" data-verso-hover="369">α</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.25969" data-verso-hover="137">xs</span></code>:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-16982">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-non_tail_reverse_eq_tail_reverse" data-verso-hover="1877">non_tail_reverse_eq_tail_reverse</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
</span><span class="inter-text">    </span><span class="unknown token" data-binding="">@</span><span class="const token" data-binding="const-NonTail.reverse" data-verso-hover="1858">NonTail.reverse</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="const token" data-binding="const-Tail.reverse" data-verso-hover="1860">Tail.reverse</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">unsolved goals
case h.h
α : Type u_1
xs : List α
⊢ NonTail.reverse xs = Tail.reverse xs</code></span></span><span class="tactic"><label for="tactic-state-11801155292423754136-17065-17067"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-17065" data-verso-hover="340">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-11801155292423754136-17065-17067"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.reverse" data-verso-hover="1858">@</span><span class="const token" data-binding="const-NonTail.reverse" data-verso-hover="1858">NonTail.reverse</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.reverse" data-verso-hover="1860">@</span><span class="const token" data-binding="const-Tail.reverse" data-verso-hover="1860">Tail.reverse</span></span></span></span></span></span><span class="tactic"><label for="tactic-state-2193639537763321838-17070-17082"><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-tacticFunext___-17070" data-verso-hover="1865">funext</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25946" data-verso-hover="369">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25969" data-verso-hover="137">xs</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-2193639537763321838-17070-17082"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-210" checked="checked"><span for="--verso-unique-210" class="goal-name">h.h</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.25946" data-verso-hover="369">α</span></span><span class="colon">:</span><span class="type"><span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.25969" data-verso-hover="137">xs</span></span><span class="colon">:</span><span class="type"><span class="const token" data-binding="const-List" data-verso-hover="111">List</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25946" data-verso-hover="369">α</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-NonTail.reverse" data-verso-hover="1858">NonTail.reverse</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25969" data-verso-hover="137">xs</span><span class="const token" data-binding="const-Eq" data-verso-hover="342"> = </span><span class="const token" data-binding="const-Tail.reverse" data-verso-hover="1860">Tail.reverse</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25969" data-verso-hover="137">xs</span></span></span></span></span></span></span></span></code><p>
                    This results in a suitable goal:</p>
                  <div class="error">
                    <pre>unsolved goals
case h.h
α : Type u_1
xs : List α
⊢ NonTail.reverse xs = Tail.reverse xs</pre></div>
                  </section>
                <section>
                  <h4 id="Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Proving-Equivalence--Exercise--More-Accumulator-Proofs--Factorial">
                    8.2.3.2.2. Factorial</h4>
                  <p>
                    Prove that <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NonTail.factorial" data-verso-hover="1862">NonTail.factorial</span></code> from the exercises in the previous section is equal to your tail-recursive solution by finding the relationship between the accumulator and the result and proving a suitable helper theorem.
</p>
                  </section>
                </section>
              </section>
            </section>
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Programming___-Proving___-and-Performance/Tail-Recursion/#tail-recursion" rel="prev" title="8.1. Tail Recursion"><span class="arrow">←</span><span class="where">8.1. Tail Recursion</span></a><a class="local-button active" href="Programming___-Proving___-and-Performance/Arrays-and-Termination/#Functional-Programming-in-Lean--Programming___-Proving___-and-Performance--Arrays-and-Termination" rel="next" title="8.3. Arrays and Termination"><span class="where">8.3. Arrays and Termination</span><span class="arrow">→</span></a></nav>
          </div>
        </main></div>
    </body>
  </html>

